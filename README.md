# üõí E-commerce Data Analysis Using MySQL and Python

This project performs an end-to-end data analysis of an e-commerce dataset using **MySQL** for querying and **Python (Pandas, Matplotlib)** for data processing and visualization.

The analysis answers key business questions like revenue per category, customer distribution, product performance, retention rates, and much more ‚Äî all with real SQL queries and Python code.

---

## üì¶ Dataset Overview

The dataset consists of multiple CSV files representing different aspects of an e-commerce platform:

- **customers**: Customer location and identity  
- **orders**: Order statuses and timestamps  
- **order_items**: Products sold in each order  
- **products**: Product category, dimensions, and metadata  
- **payments**: Payment types and values  
- **sellers**: Seller location data  
- **geolocation**: Zip-code-level geospatial information  

> üì• All datasets are available in this repository under the `/data` folder.

---

## ‚öôÔ∏è Data Loading Process

The data is loaded from CSV files into a MySQL database using Python. Below is the script used to automate the process:

```python
import pandas as pd
import mysql.connector
import os

csv_files = [
    ('customers.csv', 'customers'),
    ('orders.csv', 'orders'),
    ('sellers.csv', 'sellers'),
    ('products.csv', 'products'),
    ('geolocation.csv', 'geolocation'),
    ('payments.csv', 'payments'),
    ('order_items.csv', 'order_items')
]

conn = mysql.connector.connect(
    host='localhost',
    user='root',
    password='enter your password',
    database='ecommerce'
)
cursor = conn.cursor()

folder_path = 'C:/Users/LENOVO/Desktop/MySQl/project_3/e_commerce_project'

def get_sql_type(dtype):
    if pd.api.types.is_integer_dtype(dtype): return 'INT'
    elif pd.api.types.is_float_dtype(dtype): return 'FLOAT'
    elif pd.api.types.is_bool_dtype(dtype): return 'BOOLEAN'
    elif pd.api.types.is_datetime64_any_dtype(dtype): return 'DATETIME'
    else: return 'TEXT'

for csv_file, table_name in csv_files:
    file_path = os.path.join(folder_path, csv_file)
    df = pd.read_csv(file_path)
    df = df.where(pd.notnull(df), None)
    df.columns = [col.replace(' ', '_').replace('-', '_').replace('.', '_') for col in df.columns]
    columns = ', '.join([f'`{col}` {get_sql_type(df[col].dtype)}' for col in df.columns])
    create_table_query = f'CREATE TABLE IF NOT EXISTS `{table_name}` ({columns})'
    cursor.execute(create_table_query)

    for _, row in df.iterrows():
        values = tuple(None if pd.isna(x) else x for x in row)
        sql = f"INSERT INTO `{table_name}` ({', '.join(['`' + col + '`' for col in df.columns])}) VALUES ({', '.join(['%s'] * len(row))})"
        cursor.execute(sql, values)
    conn.commit()

conn.close()
```

---

## ‚ùì Questions & Problems Solved

1. List all unique cities where customers are located  
2. Count the number of orders placed in 2017  
3. Find the total sales per category  
4. Calculate the percentage of orders that were paid in installments  
5. Count the number of customers from each state  
6. Calculate the number of orders per month in 2018  
7. Find the average number of products per order, grouped by customer city  
8. Calculate the percentage of total revenue contributed by each product category  
9. Identify the correlation between product price and the number of times a product has been purchased  
10. Calculate the total revenue generated by each seller and rank them  
11. Calculate the moving average of order values for each customer  
12. Calculate the cumulative sales per month for each year  
13. Compute year-over-year growth of total sales  
14. Measure customer retention within 6 months of first purchase  
15. Identify the top 3 customers who spent the most money each year  

All of these are solved using optimized SQL and visualized using Python.

---

## üìä Tools & Technologies Used

- **SQL (MySQL)** ‚Äì for data querying and aggregation  
- **Python** ‚Äì for data handling and visualization  
  - `pandas`  
  - `matplotlib`, `seaborn`  
  - `mysql-connector-python`  
- **Jupyter Notebook** ‚Äì to document the analysis  
- **VS Code** ‚Äì development environment  

---

## üìÅ Repository Structure

All files are present in the main Repository 
Note : The geolocation.csv in the .rar file
```

---

## üöÄ How to Run the Project

1. **Clone the repository**
```bash
git clone https://github.com/shakeelahmad8844/E-commerce-Data-Analysis-Using-MySQL-and-Python.git
cd E-commerce-Data-Analysis-Using-MySQL-and-Python
```

2. **Set up MySQL**
- Create a database called `ecommerce`
- Run the data import script to populate tables

3. **Run the analysis**
- Open `notebooks/analysis.ipynb`
- Execute cells and explore insights

---

## üì∑ Sample Visualizations

Visualizations include:
- Revenue contribution by product category  
- Orders per city/state  
- YOY growth trends  
- Top sellers by revenue  

---

## üë§ Author

**Engineer Shakeel Ahmad**  
üìß Email: [shakeelshaheensss@gmail.com](mailto:shakeelshaheensss@gmail.com)  
üîó [LinkedIn](https://www.linkedin.com/in/shakeel-ahmad-506593233)

---

## üí¨ Thanks & Support

Thanks for exploring this project!  
If you found it helpful, consider starring the repository or reaching out on LinkedIn for feedback or collaboration.

---
